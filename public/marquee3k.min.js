'use strict';var _createClass=function(){function a(b,c){for(var e,d=0;d<c.length;d++)e=c[d],e.enumerable=e.enumerable||!1,e.configurable=!0,'value'in e&&(e.writable=!0),Object.defineProperty(b,e.key,e)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),_typeof='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&'function'==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?'symbol':typeof a};function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError('Cannot call a class as a function')}(function(a,b){'function'==typeof define&&define.amd?define([],b):'object'===('undefined'==typeof exports?'undefined':_typeof(exports))?module.exports=b():a.Marquee3k=b()})(void 0,function(){'use strict';var a=function(){function b(c,d){_classCallCheck(this,b),this.element=c,this.selector=d.selector,this.speed=c.dataset.speed||0.25,this.pausable=c.dataset.pausable,this.reverse=c.dataset.reverse,this.paused=!1,this.parent=c.parentElement,this.parentProps=this.parent.getBoundingClientRect(),this.content=c.children[0],this.innerContent=this.content.innerHTML,this.wrapStyles='',this.offset=0,this._setupWrapper(),this._setupContent(),this._setupEvents(),this.wrapper.appendChild(this.content),this.element.appendChild(this.wrapper)}return _createClass(b,[{key:'_setupWrapper',value:function _setupWrapper(){this.wrapper=document.createElement('div'),this.wrapper.classList.add('marquee3k__wrapper'),this.wrapper.style.whiteSpace='nowrap'}},{key:'_setupContent',value:function _setupContent(){this.content.classList.add(this.selector+'__copy'),this.content.style.display='inline-block',this.contentWidth=this.content.offsetWidth,this.requiredReps=this.contentWidth>this.parentProps.width?2:Math.ceil((this.parentProps.width-this.contentWidth)/this.contentWidth)+1;for(var c=0;c<this.requiredReps;c++)this._createClone();this.reverse&&(this.offset=-1*this.contentWidth),this.element.classList.add('is-init')}},{key:'_setupEvents',value:function _setupEvents(){var c=this;this.element.addEventListener('mouseenter',function(){c.pausable&&(c.paused=!0)}),this.element.addEventListener('mouseleave',function(){c.pausable&&(c.paused=!1)})}},{key:'_createClone',value:function _createClone(){var c=this.content.cloneNode(!0);c.style.display='inline-block',c.classList.add(this.selector+'__copy'),this.wrapper.appendChild(c)}},{key:'animate',value:function animate(){if(!this.paused){var c=this.reverse?0>this.offset:this.offset>-1*this.contentWidth,d=this.reverse?-1:1,e=this.reverse?-1*this.contentWidth:0;c?this.offset-=this.speed*d:this.offset=e,this.wrapper.style.whiteSpace='nowrap',this.wrapper.style.transform='translate('+this.offset+'px, 0) translateZ(0)'}}},{key:'_refresh',value:function _refresh(){this.contentWidth=this.content.offsetWidth}},{key:'repopulate',value:function repopulate(c,d){if(this.contentWidth=this.content.offsetWidth,d)for(var e=Math.ceil(c/this.contentWidth)+1,f=0;f<e;f++)this._createClone()}}],[{key:'refresh',value:function refresh(c){MARQUEES[c]._refresh()}},{key:'refreshAll',value:function refreshAll(){var _iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var d,e,c=MARQUEES[Symbol.iterator]();!(_iteratorNormalCompletion=(d=c.next()).done);_iteratorNormalCompletion=!0)e=d.value,e._refresh()}catch(f){_didIteratorError=!0,_iteratorError=f}finally{try{!_iteratorNormalCompletion&&c.return&&c.return()}finally{if(_didIteratorError)throw _iteratorError}}}},{key:'init',value:function init(){var l=this,d=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{selector:'marquee3k'};function c(){var _iteratorNormalCompletion2=!0,_didIteratorError2=!1,_iteratorError2=void 0;try{for(var n,o,m=MARQUEES[Symbol.iterator]();!(_iteratorNormalCompletion2=(n=m.next()).done);_iteratorNormalCompletion2=!0)o=n.value,o.animate()}catch(p){_didIteratorError2=!0,_iteratorError2=p}finally{try{!_iteratorNormalCompletion2&&m.return&&m.return()}finally{if(_didIteratorError2)throw _iteratorError2}}window.requestAnimationFrame(c)}window.MARQUEES=[];for(var e=document.querySelectorAll('.'+d.selector),f=window.innerWidth,h=0;h<e.length;h++){var j=e[h],k=new b(j,d);MARQUEES.push(k)}c(),window.addEventListener('resize',function(){clearTimeout(g),g=setTimeout(function(){var m=f<window.innerWidth,n=window.innerWidth-f,_iteratorNormalCompletion3=!0,_didIteratorError3=!1,_iteratorError3=void 0;try{for(var p,q,o=MARQUEES[Symbol.iterator]();!(_iteratorNormalCompletion3=(p=o.next()).done);_iteratorNormalCompletion3=!0)q=p.value,q.repopulate(n,m)}catch(r){_didIteratorError3=!0,_iteratorError3=r}finally{try{!_iteratorNormalCompletion3&&o.return&&o.return()}finally{if(_didIteratorError3)throw _iteratorError3}}f=l.innerWidth})},250)}}]),b}();return a});